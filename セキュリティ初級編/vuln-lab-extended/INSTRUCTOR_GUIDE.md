
# INSTRUCTOR_GUIDE.md - OWASP Top10 演習教材（最小テンプレート）
目的: 受講者が脆弱性の概念を体験し、対策を理解すること。

## 実行前チェック（講師用）
- Docker と docker-compose がインストールされていること
- ポート 8080 が空いていること
- 実行環境がインターネットに接続されない、またはアクセスが制限されていることを推奨

## 推奨進行（90〜120分）
1. 導入（10分）: OWASP Top10 の説明と今回の目的
2. 実技（各モジュール 10〜15分）:
   - デモ（講師が脆弱版を実演 3分）
   - 受講者操作（5〜8分）
   - 解説（脆弱点の原因と対策 2〜4分）
3. 総括（10分）: 学んだポイントと運用面での注意

## 各モジュールの実施手順（例）
### SQL Injection (/module_sql)
- 期待される挙動（脆弱版）: 特定の入力で予期しない結果が得られる（例: 全件取得等）。
- 指示例: 「名前欄に何か入力して検索結果の変化を観察せよ」
- 学習目標: プリペアドステートメントの必要性、DB権限の最小化
- 対策確認: /module_sql/secure で同じ入力を試し、結果が変わらない（安全）ことを確認する

### Reflected XSS (/module_xss)
- 期待される挙動（脆弱版）: ユーザ入力がそのままHTMLに反映される
- 指示例: 「コメント欄に <b>こんにちは</b> を入力して表示の挙動を確認せよ」
- 学習目標: 出力時にエスケープを行う重要性
- 対策確認: /module_xss/secure で HTML タグがエスケープされることを確認

### Admin / 認可チェック
- 期待される挙動: /admin に誰でもアクセス可能（脆弱）
- 指示例: 「/admin にアクセスして表示を確認せよ」
- 学習目標: サーバ側での認可チェックの必要性
- 対策確認: /login -> (admin/password123) -> /admin/secure にアクセスできること

### SSRF (/module_ssrf)
- 期待される挙動（脆弱版）: 任意URLの取得を行う（※実演時は講師が安全なURLのみを使用）
- 指示例: 「安全なサイト (https://example.com) を指定して取得を確認せよ」
- 学習目標: ホワイトリストや内部IPブロックの重要性
- 対策確認: /module_ssrf/secure では ALLOWED_HOSTS 以外のホストが拒否される

## 評価基準（サンプル）
- 各モジュールで脆弱性の「再現」と「対策確認」ができる → 合格
- 受講者に対して口頭で説明できること（原因と対策） → 合格

## トラブルシュート（よくある問題）
- コンテナが起動しない: `docker compose logs web` を確認する
- ポート競合: 他サービスが 8080 を使用していないか確認
- 外部アクセスができてしまう: Docker のネットワーク設定と ALLOWED_HOSTS を確認

## 配布時の倫理注意書き（講師が必ず伝える）
- 本教材のコードは学習目的であり、不正利用を禁ずる
- 実環境・公開環境での実行は絶対に行わないこと
- 解析や拡張を行う場合は講師の許可を得ること
